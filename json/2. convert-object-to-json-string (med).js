/**
 * LeetCode 2633. Convert Object to JSON String
 * 
 * –û–ø–∏—Å–∞–Ω–∏–µ:
 * –î–∞–Ω –æ–±—ä–µ–∫—Ç. –í–µ—Ä–Ω–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é JSON-—Å—Ç—Ä–æ–∫—É, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â—É—é —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç.
 * –ú–æ–∂–Ω–æ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—Ç—å, —á—Ç–æ –æ–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏, —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, –º–∞—Å—Å–∏–≤—ã,
 * –æ–±—ä–µ–∫—Ç—ã, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ null.
 * 
 * –í–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è —Å—Ç—Ä–æ–∫–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤.
 * –ü–æ—Ä—è–¥–æ–∫ –∫–ª—é—á–µ–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–∞–∫–∏–º –∂–µ, –∫–∞–∫ –≤ –º–∞—Å—Å–∏–≤–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–º –º–µ—Ç–æ–¥–æ–º Object.keys().
 * 
 * –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ JSON.stringify.
 * 
 * –ü—Ä–∏–º–µ—Ä—ã:
 * 
 * –ü—Ä–∏–º–µ—Ä 1:
 * –í–≤–æ–¥:  object = {"y":1,"x":2}
 * –í—ã–≤–æ–¥: {"y":1,"x":2}
 * –û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –í–µ—Ä–Ω–∏—Ç–µ JSON-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –ø–æ—Ä—è–¥–æ–∫ –∫–ª—é—á–µ–π
 *              –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø–æ—Ä—è–¥–∫—É, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–º—É –º–µ—Ç–æ–¥–æ–º Object.keys().
 * 
 * –ü—Ä–∏–º–µ—Ä 2:
 * –í–≤–æ–¥:  object = {"a":"str","b":-12,"c":true,"d":null}
 * –í—ã–≤–æ–¥: {"a":"str","b":-12,"c":true,"d":null}
 * –û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –ü—Ä–∏–º–∏—Ç–∏–≤—ã JSON ‚Äî —Å—Ç—Ä–æ–∫–∏, —á–∏—Å–ª–∞, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ null.
 * 
 * –ü—Ä–∏–º–µ—Ä 3:
 * –í–≤–æ–¥:  object = {"key":{"a":1,"b":[{},null,"Hello"]}}
 * –í—ã–≤–æ–¥: {"key":{"a":1,"b":[{},null,"Hello"]}}
 * –û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –û–±—ä–µ–∫—Ç—ã –∏ –º–∞—Å—Å–∏–≤—ã –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–∏–µ –æ–±—ä–µ–∫—Ç—ã –∏ –º–∞—Å—Å–∏–≤—ã.
 * 
 * –ü—Ä–∏–º–µ—Ä 4:
 * –í–≤–æ–¥:  object = true
 * –í—ã–≤–æ–¥: true
 * –û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–∞–∫–∂–µ —è–≤–ª—è—é—Ç—Å—è –¥–æ–ø—É—Å—Ç–∏–º—ã–º–∏ –≤—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
 * 
 * –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
 * - –û–±—ä–µ–∫—Ç –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å—Ç—Ä–æ–∫–∏, —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è, –º–∞—Å—Å–∏–≤—ã, –æ–±—ä–µ–∫—Ç—ã –∏ null.
 * - 1 <= –¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏ JSON.stringify(object) <= 10^5.
 */


/**
 * –§—É–Ω–∫—Ü–∏—è jsonStringify —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ JSON-—Å—Ç—Ä–æ–∫—É.
 * –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∏–ø—ã: null, number, boolean, string, Array, Object.
 *
 * @param {any} value - –≤—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
 * @return {string} - JSON-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤—Ö–æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
 */
function jsonStringify(value) {
  // –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π: –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–≤–Ω–æ null, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç—Ä–æ–∫—É "null"
  if (value === null) return 'null';

  // –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Ç–∏–ø number (—á–∏—Å–ª–æ) –∏–ª–∏ boolean (–ª–æ–≥–∏—á–µ—Å–∫–æ–µ),
  // –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –µ–≥–æ –≤ —Å—Ç—Ä–æ–∫—É —Å –ø–æ–º–æ—â—å—é String() –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º.
  if (
    typeof value === 'number'
    || typeof value === 'boolean'
  ) return String(value);

  // –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π, –æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º –µ–≥–æ –≤ –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏,
  // —á—Ç–æ–±—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç—É JSON –¥–ª—è —Å—Ç—Ä–æ–∫.
  if (typeof value === 'string') {
    return `"${value}"`;
  }

  // –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º:
  // –í –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –º–∞—Å—Å–∏–≤—ã, —Ç–∞–∫ –∫–∞–∫ JavaScript –º–∞—Å—Å–∏–≤—ã —è–≤–ª—è—é—Ç—Å—è –æ–±—ä–µ–∫—Ç–∞–º–∏, –ø–æ—ç—Ç–æ–º—É –µ—Å–ª–∏ –ø–æ–º–µ–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫
  // –∏ —Å–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É if (typeof value === 'object'), —Ç–æ –º–∞—Å—Å–∏–≤—ã –º–æ–≥—É—Ç –ø–æ–ø–∞—Å—Ç—å –≤ —ç—Ç—É –≤–µ—Ç–∫—É,
  // —á—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ
  if (Array.isArray(value)) {
    // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞, –≤—ã–∑—ã–≤–∞—è jsonStringify –¥–ª—è –Ω–µ–≥–æ,
    // –ø–æ–ª—É—á–∞—è –º–∞—Å—Å–∏–≤ –µ–≥–æ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π.
    // –ó–∞—Ç–µ–º –æ–±—ä–µ–¥–∏–Ω—è–µ–º –∏—Ö —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –∏ –∑–∞–∫–ª—é—á–∞–µ–º –ø–æ–ª—É—á–∏–≤—à—É—é—Å—è —Å—Ç—Ä–æ–∫—É –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Å–∫–æ–±–∫–∏.
    const elements = value.map(
      (item) => jsonStringify(item)
    ); // —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞

    return `[${elements.toString()}]`;
  }

  // –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–º (–Ω–µ –º–∞—Å—Å–∏–≤–æ–º, —Ç–∞–∫ –∫–∞–∫ –º–∞—Å—Å–∏–≤—ã —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã):
  if (typeof value === 'object') {
    // –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–∞ —Å–æ–∑–¥–∞—ë–º —Å—Ç—Ä–æ–∫—É –≤–∏–¥–∞ "–∫–ª—é—á":–∑–Ω–∞—á–µ–Ω–∏–µ,
    // –≥–¥–µ –∫–ª—é—á –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏,
    // –∞ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é jsonStringify.
    const keyValuePairs = [];
    for (const key in value) {
      if (!Object.hasOwn(value, key)) continue;

      keyValuePairs.push(
        `"${key}":${jsonStringify(value[key])}`
      );
    }

    // –û–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ –ø–∞—Ä—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –∏ –∑–∞–∫–ª—é—á–∞–µ–º –∏—Ç–æ–≥–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –≤ —Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏.
    return `{${keyValuePairs.toString()}}`;
  }

  // –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω–∏ –æ–¥–Ω–æ–º—É –∏–∑ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —Ç–∏–ø–æ–≤ (—ç—Ç–æ –Ω–µ –¥–æ–ª–∂–Ω–æ —Å–ª—É—á–∞—Ç—å—Å—è –ø–æ —É—Å–ª–æ–≤–∏—é),
  // –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É.
  return '';
}






// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è assert, –≤—ã–±—Ä–∞—Å—ã–≤–∞—é—â–∞—è –æ—à–∏–±–∫—É, –µ—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ.
function assert(condition, message) {
  if (!condition) {
    throw new Error(message);
  }
}

// –¢–µ—Å—Ç–æ–≤—ã–µ –∫–µ–π—Å—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ jsonStringify.
const tests = [
  {
    description: "–ü—Ä–æ–≤–µ—Ä–∫–∞ null",
    async test() {
      const result = jsonStringify(null);
      const expected = "null";
      assert(result === expected, `–û–∂–∏–¥–∞–ª–æ—Å—å "${expected}", –ø–æ–ª—É—á–µ–Ω–æ "${result}"`);
    },
  },
  {
    description: "–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–∏—Å–ª–∞",
    async test() {
      const result = jsonStringify(123);
      const expected = "123";
      assert(result === expected, `–û–∂–∏–¥–∞–ª–æ—Å—å "${expected}", –ø–æ–ª—É—á–µ–Ω–æ "${result}"`);
    },
  },
  {
    description: "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π",
    async test() {
      const resultTrue = jsonStringify(true);
      const expectedTrue = "true";
      assert(resultTrue === expectedTrue, `–û–∂–∏–¥–∞–ª–æ—Å—å "${expectedTrue}", –ø–æ–ª—É—á–µ–Ω–æ "${resultTrue}"`);

      const resultFalse = jsonStringify(false);
      const expectedFalse = "false";
      assert(resultFalse === expectedFalse, `–û–∂–∏–¥–∞–ª–æ—Å—å "${expectedFalse}", –ø–æ–ª—É—á–µ–Ω–æ "${resultFalse}"`);
    },
  },
  {
    description: "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä–æ–∫–∏",
    async test() {
      const result = jsonStringify("Hello");
      const expected = `"Hello"`;
      assert(result === expected, `–û–∂–∏–¥–∞–ª–æ—Å—å ${expected}, –ø–æ–ª—É—á–µ–Ω–æ ${result}`);
    },
  },
  {
    description: "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Å—Ç–æ–≥–æ –º–∞—Å—Å–∏–≤–∞",
    async test() {
      const result = jsonStringify([]);
      const expected = "[]";
      assert(result === expected, `–û–∂–∏–¥–∞–ª–æ—Å—å "${expected}", –ø–æ–ª—É—á–µ–Ω–æ "${result}"`);
    },
  },
  {
    description: "–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Å—Å–∏–≤–∞ —Å –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏",
    async test() {
      const input = [1, "a", false];
      const result = jsonStringify(input);
      const expected = `[1,"a",false]`;
      assert(result === expected, `–û–∂–∏–¥–∞–ª–æ—Å—å "${expected}", –ø–æ–ª—É—á–µ–Ω–æ "${result}"`);
    },
  },
  {
    description: "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Å—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞",
    async test() {
      const result = jsonStringify({});
      const expected = "{}";
      assert(result === expected, `–û–∂–∏–¥–∞–ª–æ—Å—å "${expected}", –ø–æ–ª—É—á–µ–Ω–æ "${result}"`);
    },
  },
  {
    description: "–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—ä–µ–∫—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–ª—é—á–∞–º–∏",
    async test() {
      const input = { y: 1, x: 2 };
      const result = jsonStringify(input);
      const expected = `{"y":1,"x":2}`;
      assert(result === expected, `–û–∂–∏–¥–∞–ª–æ—Å—å "${expected}", –ø–æ–ª—É—á–µ–Ω–æ "${result}"`);
    },
  },
  {
    description: "–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –º–∞—Å—Å–∏–≤–æ–≤",
    async test() {
      const input = {
        a: { b: [null, true, "test"] },
        c: "hello"
      };
      const result = jsonStringify(input);
      const expected = `{"a":{"b":[null,true,"test"]},"c":"hello"}`;
      assert(result === expected, `–û–∂–∏–¥–∞–ª–æ—Å—å "${expected}", –ø–æ–ª—É—á–µ–Ω–æ "${result}"`);
    },
  },
  {
    description: "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª–æ–∂–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã",
    async test() {
      const input = {
        name: "Alice",
        age: 30,
        isStudent: false,
        scores: [10, 20, 30],
        details: {
          address: null,
          hobbies: ["reading", "swimming"]
        }
      };
      const result = jsonStringify(input);
      const expected = `{"name":"Alice","age":30,"isStudent":false,"scores":[10,20,30],"details":{"address":null,"hobbies":["reading","swimming"]}}`;
      assert(result === expected, `–û–∂–∏–¥–∞–ª–æ—Å—å "${expected}", –ø–æ–ª—É—á–µ–Ω–æ "${result}"`);
    },
  },
];

// –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤.
(async () => {
  console.log("–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è jsonStringify...");
  let hasErrors = false;
  for (let i = 0; i < tests.length; i++) {
    try {
      await tests[i].test(); // –ó–¥–µ—Å—å —Ç–µ—Å—Ç—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ, —Ö–æ—Ç—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
      console.log(`‚úîÔ∏è  –¢–µ—Å—Ç ${i + 1} –ø—Ä–æ–π–¥–µ–Ω: ${tests[i].description}`);
    } catch (e) {
      hasErrors = true;
      console.error(`‚ùå –¢–µ—Å—Ç ${i + 1} –Ω–µ –ø—Ä–æ–π–¥–µ–Ω: ${tests[i].description}`);
      console.error(e);
    }
  }
  if (hasErrors) {
    console.error("‚ùó –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å —Å –æ—à–∏–±–∫–æ–π.");
  } else {
    console.log("üéâ –í—Å–µ —Ç–µ—Å—Ç—ã –¥–ª—è jsonStringify –∑–∞–≤–µ—Ä—à–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ.");
  }
})();
