/**
 * LeetCode 2628. JSON Deep Equal
 *
 * –û–ø–∏—Å–∞–Ω–∏–µ:
 * –î–∞–Ω—ã –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏—è `o1` –∏ `o2`. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —è–≤–ª—è—é—Ç—Å—è –ª–∏ —ç—Ç–∏ –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏—è ¬´–≥–ª—É–±–æ–∫–æ —Ä–∞–≤–Ω—ã–º–∏¬ª.
 * –ü—Ä–∏ —ç—Ç–æ–º —Å–ª–µ–¥—É–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —É—Å–ª–æ–≤–∏—è:
 *
 * 1. –ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã:
 *    –ï—Å–ª–∏ –æ–±–∞ –∑–Ω–∞—á–µ–Ω–∏—è —è–≤–ª—è—é—Ç—Å—è –ø—Ä–∏–º–∏—Ç–∏–≤–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–∏—Å–ª–∞, —Å—Ç—Ä–æ–∫–∏, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è, `null`),
 *    —Ç–æ –æ–Ω–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è –≥–ª—É–±–æ–∫–æ —Ä–∞–≤–Ω—ã–º–∏, –µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ç—Ä–æ–≥–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (`===`).
 *
 * 2. –ú–∞—Å—Å–∏–≤—ã:
 *    –ï—Å–ª–∏ –æ–±–∞ –∑–Ω–∞—á–µ–Ω–∏—è —è–≤–ª—è—é—Ç—Å—è –º–∞—Å—Å–∏–≤–∞–º–∏, —Ç–æ –æ–Ω–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è –≥–ª—É–±–æ–∫–æ —Ä–∞–≤–Ω—ã–º–∏, –µ—Å–ª–∏:
 *      - –ú–∞—Å—Å–∏–≤—ã –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é –¥–ª–∏–Ω—É.
 *      - –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –Ω–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –ø–æ–∑–∏—Ü–∏—è—Ö –≤ –¥–≤—É—Ö –º–∞—Å—Å–∏–≤–∞—Ö, —Ç–∞–∫–∂–µ —è–≤–ª—è–µ—Ç—Å—è –≥–ª—É–±–æ–∫–æ —Ä–∞–≤–Ω—ã–º
 *        (–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ).
 *
 * 3. –û–±—ä–µ–∫—Ç—ã:
 *    –ï—Å–ª–∏ –æ–±–∞ –∑–Ω–∞—á–µ–Ω–∏—è —è–≤–ª—è—é—Ç—Å—è –æ–±—ä–µ–∫—Ç–∞–º–∏ (–∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –º–∞—Å—Å–∏–≤–∞–º–∏), —Ç–æ –æ–Ω–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è –≥–ª—É–±–æ–∫–æ —Ä–∞–≤–Ω—ã–º–∏, –µ—Å–ª–∏:
 *      - –û–±—ä–µ–∫—Ç—ã –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –Ω–∞–±–æ—Ä –∫–ª—é—á–µ–π (–ø–æ—Ä—è–¥–æ–∫ –∫–ª—é—á–µ–π –Ω–µ –≤–∞–∂–µ–Ω).
 *      - –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–∞ –∑–Ω–∞—á–µ–Ω–∏–µ, –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å –Ω–∏–º –≤ –æ–¥–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ, —è–≤–ª—è–µ—Ç—Å—è –≥–ª—É–±–æ–∫–æ —Ä–∞–≤–Ω—ã–º
 *        —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É –∑–Ω–∞—á–µ–Ω–∏—é –≤ –¥—Ä—É–≥–æ–º –æ–±—ä–µ–∫—Ç–µ (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ).
 *
 * –¢–∞–∫–∂–µ –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—Ç —É—Å–ª–æ–≤–∏—é —Å—Ç—Ä–æ–≥–æ–≥–æ —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ (`===`), –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∏–∑–Ω–∞–Ω—ã –≥–ª—É–±–æ–∫–æ —Ä–∞–≤–Ω—ã–º–∏.
 *
 * –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
 * - 1 <= JSON.stringify(o1).length <= 10^5
 * - 1 <= JSON.stringify(o2).length <= 10^5
 * - maxNestingDepth <= 1000
 *
 * –í–∞–∂–Ω–æ:
 * –†–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏–ª–∏ –≥–æ—Ç–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è,
 * —Ç–∞–∫–∏—Ö –∫–∞–∫ `_.isEqual()` –∏–∑ lodash.
 *
 * –ü—Ä–∏–º–µ—Ä—ã:
 * –ü—Ä–∏–º–µ—Ä 1:
 *   –í–≤–æ–¥:  o1 = {"x":1, "y":2} –∏ o2 = {"x":1, "y":2}
 *   –í—ã–≤–æ–¥: true
 *   –û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –ö–ª—é—á–∏ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –æ–±–æ–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö —Å–æ–≤–ø–∞–¥–∞—é—Ç.
 *
 * –ü—Ä–∏–º–µ—Ä 2:
 *   –í–≤–æ–¥: o1 = {"y":2, "x":1} –∏ o2 = {"x":1, "y":2}
 *   –í—ã–≤–æ–¥: true
 *   –û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –•–æ—Ç—è –ø–æ—Ä—è–¥–æ–∫ –∫–ª—é—á–µ–π —Ä–∞–∑–ª–∏—á–∞–µ—Ç—Å—è, —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç.
 *
 * –ü—Ä–∏–º–µ—Ä 3:
 *   –í–≤–æ–¥: o1 = {"x":null, "L":[1,2,3]} –∏ o2 = {"x":null, "L":["1","2","3"]}
 *   –í—ã–≤–æ–¥: false
 *   –û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –ú–∞—Å—Å–∏–≤ —á–∏—Å–µ–ª –Ω–µ —Ä–∞–≤–µ–Ω –º–∞—Å—Å–∏–≤—É —Å—Ç—Ä–æ–∫, —Ç–∞–∫ –∫–∞–∫ —Ç–∏–ø—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è.
 *
 * –ü—Ä–∏–º–µ—Ä 4:
 *   –í–≤–æ–¥: o1 = true –∏ o2 = false
 *   –í—ã–≤–æ–¥: false
 *   –û–±—ä—è—Å–Ω–µ–Ω–∏–µ: true !== false.
 *
 * –ü–æ–¥—Å–∫–∞–∑–∫–∞:
 * –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á–∏ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–ª—É–±–æ–∫–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ
 * —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–∞–∂–µ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö.
 */


function deepEqual(o1, o2) {
  // –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∞–±—Å–æ–ª—é—Ç–Ω–æ —Ä–∞–≤–Ω—ã (–≤–∫–ª—é—á–∞—è –ø—Ä–∏–º–∏—Ç–∏–≤—ã –∏
  // –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏)
  // –û–ø–µ—Ä–∞—Ç–æ—Ä === —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∏ —Ç–∏–ø, –∏ –∑–Ω–∞—á–µ–Ω–∏–µ:
  //  - –î–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ (number, string, boolean, undefined,
  //    symbol) —ç—Ç–æ –ø–æ–ª–Ω–æ–µ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ.
  //  - –î–ª—è –æ–±—ä–µ–∫—Ç–æ–≤/–º–∞—Å—Å–∏–≤–æ–≤ ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–≥–æ, —É–∫–∞–∑—ã–≤–∞—é—Ç –ª–∏
  //    —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç.
  // –≠—Ç–æ—Ç ¬´–±—ã—Å—Ç—Ä—ã–π –ø—É—Ç—å¬ª —Å—Ä–∞–∑—É –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–µ
  // —Å–ª—É—á–∞–∏.
  if (o1 === o2) return true;

  // –ï—Å–ª–∏ —Ç–∏–ø—ã –æ—Ç–ª–∏—á–∞—é—Ç—Å—è, –∑–Ω–∞—á–µ–Ω–∏—è —Ç–æ—á–Ω–æ –Ω–µ —Ä–∞–≤–Ω—ã
  if (typeof o1 !== typeof o2) return false;

  // –õ–æ–≤—É—à–∫–∞ JS: typeof null === 'object'. 
  // –ù–æ –µ—Å–ª–∏ –±—ã –æ–±–∞ –±—ã–ª–∏ null, –º—ã –±—ã —É–∂–µ –≤—ã—à–ª–∏ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö
  // –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö. –†–∞–∑ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω ‚Äî null, –≥–ª—É–±–æ–∫–æ–≥–æ
  // —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ –Ω–µ—Ç.
  if (o1 === null || o2 === null) return false;

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Å—Å–∏–≤–æ–≤
  // –í –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –º–∞—Å—Å–∏–≤—ã, —Ç–∞–∫ –∫–∞–∫
  // JavaScript –º–∞—Å—Å–∏–≤—ã —è–≤–ª—è—é—Ç—Å—è –æ–±—ä–µ–∫—Ç–∞–º–∏, –ø–æ—ç—Ç–æ–º—É –µ—Å–ª–∏
  // –ø–æ–º–µ–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ —Å–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É
  // if (typeof o1 === 'object'), —Ç–æ –º–∞—Å—Å–∏–≤—ã –º–æ–≥—É—Ç –ø–æ–ø–∞—Å—Ç—å –≤
  // —ç—Ç—É –≤–µ—Ç–∫—É, —á—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ
  if (Array.isArray(o1)) {

    // –ï—Å–ª–∏ o1 ‚Äì –º–∞—Å—Å–∏–≤, –∞ o2 ‚Äì –Ω–µ—Ç, –∏–ª–∏ –¥–ª–∏–Ω—ã –º–∞—Å—Å–∏–≤–æ–≤ –Ω–µ —Ä–∞–≤–Ω—ã, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º false
    if (!Array.isArray(o2)) return false;
    if (o1.length !== o2.length) return false;

    // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞
    for (let i = 0; i < o1.length; i++) {
      if (!deepEqual(o1[i], o2[i])) return false;
    }

    // –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–æ–≤–ø–∞–ª–∏ –Ω–∞ —ç—Ç–æ–º —É—Ä–æ–≤–Ω–µ ‚Äî –º–∞—Å—Å–∏–≤—ã —Ä–∞–≤–Ω—ã.
    return true;
  }

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ (–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –º–∞—Å—Å–∏–≤–∞–º–∏)
  if (typeof o1 === 'object') {
    // –ï—Å–ª–∏ –æ–¥–∏–Ω –∏–∑ –æ–±—ä–µ–∫—Ç–æ–≤ —è–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º, –∞ –¥—Ä—É–≥–æ–π ‚Äì –Ω–µ—Ç, –æ–Ω–∏ –Ω–µ —Ä–∞–≤–Ω—ã
    if (Array.isArray(o2)) return false;

    const keys1 = Object.keys(o1);
    const keys2 = Object.keys(o2);

    // –ï—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π —Ä–∞–∑–Ω–æ–µ, –æ–±—ä–µ–∫—Ç—ã –Ω–µ —Ä–∞–≤–Ω—ã
    if (keys1.length !== keys2.length) return false;

    // –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –µ–≥–æ –≤ –æ–±–æ–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö
    // –∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π —ç—Ç–æ–≥–æ –∫–ª—é—á–∞
    for (const key of keys1) {
      // –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Object.prototype.hasOwnProperty.call(o2, key) –º—ã –∑–∞–±–æ—Ç–∏–º—Å—è –æ —Ç–æ–º, —á—Ç–æ–±—ã –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞–ª–∏—á–∏—è 
      // —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ –∏–º–µ–Ω–Ω–æ —É –æ–±—ä–µ–∫—Ç–∞ o2, –∏—Å–ø–æ–ª—å–∑—É—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ hasOwnProperty, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –≤ –ø—Ä–æ—Ç–æ—Ç–∏–ø–µ Object.
      // –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –¥–∞–∂–µ –≤ —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞:
      //  1. –ú–µ—Ç–æ–¥ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω: –ï—Å–ª–∏ –≤ –æ–±—ä–µ–∫—Ç–µ o2 –∏–º–µ–µ—Ç—Å—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ —Å –∏–º–µ–Ω–µ–º hasOwnProperty, –æ–Ω–æ –º–æ–∂–µ—Ç
      //     –∑–∞–º–µ—â–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–µ—Ç–æ–¥. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –≤—ã–∑–æ–≤ o2.hasOwnProperty(key) –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –∏–ª–∏
      //     –¥–∞–∂–µ –æ—à–∏–±–∫–µ, –µ—Å–ª–∏ —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π.
      //  2. –û–±—ä–µ–∫—Ç –±–µ–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞: –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Object.create(null) –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö —Å–≤–æ–π—Å—Ç–≤,
      //     –≤ —Ç–æ–º —á–∏—Å–ª–µ hasOwnProperty. –í—ã–∑–æ–≤ o2.hasOwnProperty(key) —Ç–æ–≥–¥–∞ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –æ—à–∏–±–∫–µ, —Ç–∞–∫ –∫–∞–∫ –º–µ—Ç–æ–¥–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
      //     –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Object.prototype.hasOwnProperty.call(o2, key) –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –º–µ—Ç–æ–¥—É –∏–∑ Object.prototype, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
      //     –æ—Ç —Ç–æ–≥–æ, –µ—Å—Ç—å –ª–∏ –æ–Ω —É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.
      // –¢–∞–∫ –∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Object.hasOwn(o2, key) ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∏ —É–¥–æ–±–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ
      // —Å–≤–æ–π—Å—Ç–≤–∞ —É –æ–±—ä–µ–∫—Ç–∞. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –≤ ECMAScript 2022.
      // –û–¥–Ω–∞–∫–æ —Å—Ç–æ–∏—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å, —á—Ç–æ –µ—Å–ª–∏ –≤–∞–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã—Ö —Å—Ä–µ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤),
      // –≥–¥–µ –¥–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å, —Ç–æ–≥–¥–∞ –±–æ–ª–µ–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Object.prototype.
      // hasOwnProperty.call(o2, key).
      if (!Object.prototype.hasOwnProperty.call(o2, key)) return false;
      if (!deepEqual(o1[key], o2[key])) return false;
    }

    // –í—Å–µ –∫–ª—é—á–∏ –Ω–∞–π–¥–µ–Ω—ã –∏ –≤—Å–µ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ–≤–ø–∞–ª–∏ ‚Äî –æ–±—ä–µ–∫—Ç—ã
    // —Ä–∞–≤–Ω—ã.
    return true;
  }

  // –ï—Å–ª–∏ –Ω–∏ –æ–¥–Ω–æ –∏–∑ —É—Å–ª–æ–≤–∏–π –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º false
  // –ü–æ–ø–∞–ª–∏ —Å—é–¥–∞, –∫–æ–≥–¥–∞ –æ–±–∞ –∑–Ω–∞—á–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞, –Ω–µ null,
  // –Ω–µ –º–∞—Å—Å–∏–≤—ã, –Ω–µ ¬´–æ–±—ã—á–Ω—ã–µ¬ª –æ–±—ä–µ–∫—Ç—ã.
  // –≠—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –ª–∏–±–æ —Å–∏–º–≤–æ–ª—ã, –ª–∏–±–æ –¥—Ä—É–≥–∏–µ —ç–∫–∑–æ—Ç–∏—á–µ—Å–∫–∏–µ
  // —Ç–∏–ø—ã ‚Äî —Å—á–∏—Ç–∞–µ–º –∏—Ö –Ω–µ—Ä–∞–≤–Ω—ã–º–∏.
  return false;
}








// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è assert, –≤—ã–±—Ä–∞—Å—ã–≤–∞—é—â–∞—è –æ—à–∏–±–∫—É, –µ—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ.
function assert(condition, message) {
  if (!condition) {
    throw new Error(message);
  }
}

/*
  –¢–µ—Å—Ç–æ–≤—ã–µ –∫–µ–π—Å—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ deepEqual (–¥–æ–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ).
  –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ deepEqual –æ–±—ä—è–≤–ª–µ–Ω–∞ –≤ —ç—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.
*/
const tests = [
  {
    description: "–†–∞–≤–Ω—ã–µ —á–∏—Å–ª–∞ (–ø—Ä–∏–º–∏—Ç–∏–≤—ã)",
    async test() {
      assert(
        deepEqual(5, 5) === true,
        `–û–∂–∏–¥–∞–ª–æ—Å—å true, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(5, 5)}`
      );
    },
  },
  {
    description: "–ù–µ—Ä–∞–≤–Ω—ã–µ —á–∏—Å–ª–∞",
    async test() {
      assert(
        deepEqual(5, 6) === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(5, 6)}`
      );
    },
  },
  {
    description: "–†–∞–≤–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏",
    async test() {
      assert(
        deepEqual("test", "test") === true,
        `–û–∂–∏–¥–∞–ª–æ—Å—å true, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual("test", "test")}`
      );
    },
  },
  {
    description: "–ü—Ä–∏–º–∏—Ç–∏–≤—ã —Ä–∞–∑–Ω–æ–≥–æ —Ç–∏–ø–∞ (—á–∏—Å–ª–æ –∏ —Å—Ç—Ä–æ–∫–∞)",
    async test() {
      assert(
        deepEqual(5, "5") === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(5, "5")}`
      );
    },
  },
  {
    description: "–†–∞–≤–Ω—ã–µ –±—É–ª–µ–≤—ã –∑–Ω–∞—á–µ–Ω–∏—è",
    async test() {
      assert(
        deepEqual(true, true) === true,
        `–û–∂–∏–¥–∞–ª–æ—Å—å true, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(true, true)}`
      );
    },
  },
  {
    description: "–ù–µ—Ä–∞–≤–Ω—ã–µ –±—É–ª–µ–≤—ã –∑–Ω–∞—á–µ–Ω–∏—è",
    async test() {
      assert(
        deepEqual(true, false) === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(true, false)}`
      );
    },
  },
  {
    description: "null –∏ null",
    async test() {
      assert(
        deepEqual(null, null) === true,
        `–û–∂–∏–¥–∞–ª–æ—Å—å true, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(null, null)}`
      );
    },
  },
  {
    description: "null –∏ –æ–±—ä–µ–∫—Ç",
    async test() {
      assert(
        deepEqual(null, {}) === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(null, {})}`
      );
    },
  },
  {
    description: "undefined –∏ undefined",
    async test() {
      assert(
        deepEqual(undefined, undefined) === true,
        `–û–∂–∏–¥–∞–ª–æ—Å—å true, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(undefined, undefined)}`
      );
    },
  },
  {
    description: "–û–±—ä–µ–∫—Ç —Å undefined —Å–≤–æ–π—Å—Ç–≤–æ–º vs. –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç",
    async test() {
      assert(
        deepEqual({ a: undefined }, {}) === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual({ a: undefined }, {})}`
      );
    },
  },
  {
    description: "–ü—Ä–æ—Å—Ç—ã–µ —Ä–∞–≤–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã",
    async test() {
      const a = [1, 2, 3];
      const b = [1, 2, 3];
      assert(
        deepEqual(a, b) === true,
        `–û–∂–∏–¥–∞–ª–æ—Å—å true, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(a, b)}`
      );
    },
  },
  {
    description: "–ú–∞—Å—Å–∏–≤—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏",
    async test() {
      const a = [1, 2, 3];
      const b = [1, 2, 4];
      assert(
        deepEqual(a, b) === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(a, b)}`
      );
    },
  },
  {
    description: "–ú–∞—Å—Å–∏–≤—ã —Ä–∞–∑–Ω–æ–π –¥–ª–∏–Ω—ã",
    async test() {
      const a = [1, 2, 3];
      const b = [1, 2];
      assert(
        deepEqual(a, b) === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(a, b)}`
      );
    },
  },
  {
    description: "–ü—É—Å—Ç—ã–µ –º–∞—Å—Å–∏–≤—ã",
    async test() {
      assert(
        deepEqual([], []) === true,
        `–û–∂–∏–¥–∞–ª–æ—Å—å true, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual([], [])}`
      );
    },
  },
  {
    description: "–í–ª–æ–∂–µ–Ω–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã —Ä–∞–≤–Ω—ã",
    async test() {
      const a = [1, [2, 3], 4];
      const b = [1, [2, 3], 4];
      assert(
        deepEqual(a, b) === true,
        `–û–∂–∏–¥–∞–ª–æ—Å—å true, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(a, b)}`
      );
    },
  },
  {
    description: "–ú–∞—Å—Å–∏–≤ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ (—Ä–∞–≤–Ω—ã)",
    async test() {
      const a = [{ a: [1, 2] }, { b: 3 }];
      const b = [{ a: [1, 2] }, { b: 3 }];
      assert(
        deepEqual(a, b) === true,
        `–û–∂–∏–¥–∞–ª–æ—Å—å true, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(a, b)}`
      );
    },
  },
  {
    description: "–ú–∞—Å—Å–∏–≤ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ (–Ω–µ —Ä–∞–≤–Ω—ã)",
    async test() {
      const a = [{ a: [1, 2] }, { b: 3 }];
      const b = [{ a: [1, 2] }, { b: 4 }];
      assert(
        deepEqual(a, b) === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(a, b)}`
      );
    },
  },
  {
    description: "–ü—Ä–æ—Å—Ç—ã–µ —Ä–∞–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –ø–æ—Ä—è–¥–æ–∫ –∫–ª—é—á–µ–π)",
    async test() {
      const o1 = { a: 1, b: 2 };
      const o2 = { a: 1, b: 2 };
      assert(
        deepEqual(o1, o2) === true,
        `–û–∂–∏–¥–∞–ª–æ—Å—å true, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(o1, o2)}`
      );
    },
  },
  {
    description: "–ü—Ä–æ—Å—Ç—ã–µ —Ä–∞–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (—Ä–∞–∑–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∫–ª—é—á–µ–π)",
    async test() {
      const o1 = { a: 1, b: 2 };
      const o2 = { b: 2, a: 1 };
      assert(
        deepEqual(o1, o2) === true,
        `–û–∂–∏–¥–∞–ª–æ—Å—å true, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(o1, o2)}`
      );
    },
  },
  {
    description: "–û–±—ä–µ–∫—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏",
    async test() {
      const o1 = { a: 1, b: 2 };
      const o2 = { a: 1, b: 3 };
      assert(
        deepEqual(o1, o2) === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(o1, o2)}`
      );
    },
  },
  {
    description: "–û–±—ä–µ–∫—Ç —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º —Å–≤–æ–π—Å—Ç–≤–æ–º",
    async test() {
      const o1 = { a: 1 };
      const o2 = { a: 1, b: 2 };
      assert(
        deepEqual(o1, o2) === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(o1, o2)}`
      );
    },
  },
  {
    description: "–ü—É—Å—Ç—ã–µ –æ–±—ä–µ–∫—Ç—ã",
    async test() {
      assert(
        deepEqual({}, {}) === true,
        `–û–∂–∏–¥–∞–ª–æ—Å—å true, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual({}, {})}`
      );
    },
  },
  {
    description: "–í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã —Ä–∞–≤–Ω—ã",
    async test() {
      const o1 = { a: 1, b: { c: 2, d: [3, 4] } };
      const o2 = { a: 1, b: { c: 2, d: [3, 4] } };
      assert(
        deepEqual(o1, o2) === true,
        `–û–∂–∏–¥–∞–ª–æ—Å—å true, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(o1, o2)}`
      );
    },
  },
  {
    description: "–ù–µ—Ä–∞–≤–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã",
    async test() {
      const o1 = { a: 1, b: { c: 2, d: [3, 4] } };
      const o2 = { a: 1, b: { c: 2, d: [3, 5] } };
      assert(
        deepEqual(o1, o2) === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(o1, o2)}`
      );
    },
  },
  {
    description: "–í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏",
    async test() {
      const o1 = { a: { b: 2 } };
      const o2 = { a: { b: 3 } };
      assert(
        deepEqual(o1, o2) === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(o1, o2)}`
      );
    },
  },
  {
    description: "–û–±—ä–µ–∫—Ç –ø—Ä–æ—Ç–∏–≤ –º–∞—Å—Å–∏–≤–∞",
    async test() {
      assert(
        deepEqual({}, []) === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual({}, [])}`
      );
    },
  },
  {
    description: "–§—É–Ω–∫—Ü–∏–∏ –≤—Å–µ–≥–¥–∞ –Ω–µ —Ä–∞–≤–Ω—ã",
    async test() {
      const f1 = () => {};
      const f2 = () => {};
      assert(
        deepEqual(f1, f2) === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(f1, f2)}`
      );
    },
  },
  {
    description: "–†–∞–∑–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã",
    async test() {
      const s1 = Symbol("a");
      const s2 = Symbol("a");
      assert(
        deepEqual(s1, s2) === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(s1, s2)}`
      );
    },
  },
  {
    description: "Object.create(null) ‚Äì —Ä–∞–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –±–µ–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞",
    async test() {
      const o1 = Object.create(null);
      o1.a = 1;
      const o2 = Object.create(null);
      o2.a = 1;
      assert(
        deepEqual(o1, o2) === true,
        `–û–∂–∏–¥–∞–ª–æ—Å—å true, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(o1, o2)}`
      );
    },
  },
  {
    description: "Object.create(null) ‚Äì –Ω–µ—Ä–∞–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –±–µ–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞",
    async test() {
      const o1 = Object.create(null);
      o1.a = 1;
      const o2 = Object.create(null);
      o2.a = 2;
      assert(
        deepEqual(o1, o2) === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(o1, o2)}`
      );
    },
  },
  {
    description: "–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —Å —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏",
    async test() {
      function F() { this.a = 1; }
      F.prototype.b = 2;
      const o1 = new F();
      const o2 = { a: 1 };
      assert(
        deepEqual(o1, o2) === true,
        `–û–∂–∏–¥–∞–ª–æ—Å—å true, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(o1, o2)}`
      );
    },
  },
  {
    description: "NaN –ø—Ä–æ—Ç–∏–≤ NaN",
    async test() {
      assert(
        deepEqual(NaN, NaN) === false,
        `–û–∂–∏–¥–∞–ª–æ—Å—å false, –ø–æ–ª—É—á–µ–Ω–æ ${deepEqual(NaN, NaN)}`
      );
    },
  },
];

// –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤.
(async () => {
  console.log("–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è deepEqual...");
  let hasErrors = false;
  for (let i = 0; i < tests.length; i++) {
    try {
      await tests[i].test();
      console.log(`‚úîÔ∏è  –¢–µ—Å—Ç ${i + 1} –ø—Ä–æ–π–¥–µ–Ω: ${tests[i].description}`);
    } catch (e) {
      hasErrors = true;
      console.error(`‚ùå –¢–µ—Å—Ç ${i + 1} –Ω–µ –ø—Ä–æ–π–¥–µ–Ω: ${tests[i].description}`);
      console.error(e);
    }
  }
  if (hasErrors) {
    console.error("‚ùó –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å —Å –æ—à–∏–±–∫–æ–π.");
  } else {
    console.log("üéâ –í—Å–µ —Ç–µ—Å—Ç—ã –¥–ª—è deepEqual –∑–∞–≤–µ—Ä—à–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ.");
  }
})();
